<% unless @contact.errors.empty?%>
    <div class="alert alert-danger">
        <ul>
            <% @contact.errors.full_messages.each do|msg|%>
                <li><%= msg%></li>
            <% end%>
        </ul>
    </div>
<% end %>
<div class="form-group">
    <label class="col-sm-2 control-label">Groups</label>
    <div class="col-sm-10">
        <%= f.collection_select :group_id, current_account.groups.order(:name),:id,:name, {include_blank: false}, {class: 'form-control'} %>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-2 control-label">Name</label>
    <div class="col-sm-10">
        <%= f.text_field :name, {class: 'form-control', placeholder: 'Enter name'}%>
    </div>
</div>
<hr/>
<div class="email-fields">
    <div class="form-group">
        <label class="col-sm-2 control-label">Emails</label>
        <div class="col-sm-10">
            <button class="btn btn-primary btn-add-email-field" type="button">
                <i class="fa fa-plus-circle"></i>&nbsp;Add Email Address
            </button>
        </div>
    </div>
    <% contact.emails.each.with_index do |email, index|%>
        <div class="form-group" id="email<%= index%>">
            <div class="col-sm-offset-2 col-sm-8">
                <input type="text" name="contact[emails][]" class="form-control"
                       placeholder="Enter email address" value="<%= email%>">
            </div>
            <div class="col-sm-2">
                <div class="btn-group" role="group">
                    <button class="btn btn-primary btn-add-email-field"
                            type="button" id="btn-add-email-field<%= index%>">
                        <i class="fa fa-plus-circle"></i>
                    </button>
                    <button class="btn btn-danger btn-remove-email-field" type="button"
                            id="btn-remove-email-field<%= index%>"
                            data-id="email<%= index%>">
                        <i class="fa fa-trash-o"></i>
                    </button>
                </div>
            </div>
        </div>
    <% end%>
</div>
<hr/>
<div class="phone-fields">
    <div class="form-group">
        <label class="col-sm-2 control-label">Phones</label>
        <div class="col-sm-10">
            <button class="btn btn-primary btn-add-phone-field" type="button">
                <i class="fa fa-plus-circle"></i>&nbsp;Add Phone Number
            </button>
        </div>
    </div>
    <% contact.phones.each.with_index do |phone, index|%>
        <div class="form-group" id="phone<%= index%>">
            <div class="col-sm-offset-2 col-sm-8">
                <input type="text" name="contact[phones][]" class="form-control"
                       placeholder="Enter email address" value="<%= phone%>">
            </div>
            <div class="col-sm-2">
                <div class="btn-group" role="group">
                    <button class="btn btn-primary btn-add-email-field"
                            type="button" id="btn-add-phone-field<%= index%>">
                        <i class="fa fa-plus-circle"></i>
                    </button>
                    <button class="btn btn-danger btn-remove-phone-field" type="button"
                            id="btn-remove-phone-field<%= index%>"
                            data-id="phone<%= index%>">
                        <i class="fa fa-trash-o"></i>
                    </button>
                </div>
            </div>
        </div>
    <% end%>
</div>
<hr/>
<div class="form-group">
    <div class="col-sm-offset-2 col-sm-10 text-right">
        <a href="<%= root_path %>" class="btn btn-default">Cancel</a>
        <button type="submit" class="btn btn-primary">Save</button>
    </div>
</div>